t){return typeof t=="object"&&t!==null&&f1 in t}function We(t){return t[bt]}function qr(t){return`${t[uo]??"public"}.${t[bt]}`}var m1=class{static[m]="FakePrimitiveParam"};function vp(t){return t!=null&&typeof t.getSQL=="function"}function $3(t){let e={sql:"",params:[]};for(let r of t)e.sql+=r.sql,e.params.push(...r.params),r.typings?.length&&(e.typings||(e.typings=[]),e.typings.push(...r.typings));return e}var be=class{static[m]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new q([this])}},q=class t{constructor(e){this.queryChunks=e}static[m]="SQL";decoder=v1;shouldInlineParams=!1;append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return ne.startActiveSpan("drizzle.buildSQL",r=>{let n=this.buildQueryFromSourceParams(this.queryChunks,e);return r?.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(e,r){let n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:i,escapeName:a,escapeParam:s,prepareTyping:o,inlineParams:u,paramStartIndex:c}=n;return $3(e.map(l=>{if(b(l,be))return{sql:l.value.join(""),params:[]};if(b(l,aa))return{sql:a(l.value),params:[]};if(l===void 0)return{sql:"",params:[]};if(Array.isArray(l)){let p=[new be("(")];for(let[d,f]of l.entries())p.push(f),d<l.length-1&&p.push(new be(", "));return p.push(new be(")")),this.buildQueryFromSourceParams(p,n)}if(b(l,t))return this.buildQueryFromSourceParams(l.queryChunks,{...n,inlineParams:u||l.shouldInlineParams});if(b(l,T)){let p=l[T.Symbol.Schema],d=l[T.Symbol.Name];return{sql:p===void 0||l[ia]?a(d):a(p)+"."+a(d),params:[]}}if(b(l,Z)){let p=i.getColumnCasing(l);if(r.invokeSource==="indexes")return{sql:a(p),params:[]};let d=l.table[T.Symbol.Schema];return{sql:l.table[ia]||d===void 0?a(l.table[T.Symbol.Name])+"."+a(p):a(d)+"."+a(l.table[T.Symbol.Name])+"."+a(p),params:[]}}if(b(l,ze)){let p=l[ie].schema,d=l[ie].name;return{sql:p===void 0||l[ie].isAlias?a(d):a(p)+"."+a(d),params:[]}}if(b(l,Xe)){if(b(l.value,Ft))return{sql:s(c.value++,l),params:[l],typings:["none"]};let p=l.value===null?null:l.encoder.mapToDriverValue(l.value);if(b(p,t))return this.buildQueryFromSourceParams([p],n);if(u)return{sql:this.mapInlineParam(p,n),params:[]};let d=["none"];return o&&(d=[o(l.encoder)]),{sql:s(c.value++,p),params:[p],typings:d}}return b(l,Ft)?{sql:s(c.value++,l),params:[l],typings:["none"]}:b(l,t.Aliased)&&l.fieldAlias!==void 0?{sql:a(l.fieldAlias),params:[]}:b(l,xe)?l._.isWith?{sql:a(l._.alias),params:[]}:this.buildQueryFromSourceParams([new be("("),l._.sql,new be(") "),new aa(l._.alias)],n):u1(l)?l.schema?{sql:a(l.schema)+"."+a(l.enumName),params:[]}:{sql:a(l.enumName),params:[]}:vp(l)?l.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([l.getSQL()],n):this.buildQueryFromSourceParams([new be("("),l.getSQL(),new be(")")],n):u?{sql:this.mapInlineParam(l,n),params:[]}:{sql:s(c.value++,l),params:[l],typings:["none"]}}))}mapInlineParam(e,{escapeString:r}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return r(e);if(typeof e=="object"){let n=e.toString();return r(n==="[object Object]"?JSON.stringify(e):n)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new t.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}},aa=class{constructor(e){this.value=e}static[m]="Name";brand;getSQL(){return new q([this])}};function h1(t){return typeof t=="object"&&t!==null&&"mapToDriverValue"in t&&typeof t.mapToDriverValue=="function"}var v1={mapFromDriverValue:t=>t},g1={mapToDriverValue:t=>t},Oj={...v1,...g1},Xe=class{constructor(e,r=g1){this.value=e,this.encoder=r}static[m]="Param";brand;getSQL(){return new q([this])}};function v(t,...e){let r=[];(e.length>0||t.length>0&&t[0]!=="")&&r.push(new be(t[0]));for(let[n,i]of e.entries())r.push(i,new be(t[n+1]));return new q(r)}(t=>{function e(){return new q([])}t.empty=e;function r(u){return new q(u)}t.fromList=r;function n(u){return new q([new be(u)])}t.raw=n;function i(u,c){let l=[];for(let[p,d]of u.entries())p>0&&c!==void 0&&l.push(c),l.push(d);return new q(l)}t.join=i;function a(u){return new aa(u)}t.identifier=a;function s(u){return new Ft(u)}t.placeholder=s;function o(u,c){return new Xe(u,c)}t.param=o})(v||(v={}));(t=>{class e{constructor(n,i){this.sql=n,this.fieldAlias=i}static[m]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new e(this.sql,this.fieldAlias)}}t.Aliased=e})(q||(q={}));var Ft=class{constructor(e){this.name=e}static[m]="Placeholder";getSQL(){return new q([this])}};function gp(t,e){return t.map(r=>{if(b(r,Ft)){if(!(r.name in e))throw new Error(`No value for placeholder "${r.name}" was provided`);return e[r.name]}if(b(r,Xe)&&b(r.value,Ft)){if(!(r.value.name in e))throw new Error(`No value for placeholder "${r.value.name}" was provided`);return r.encoder.mapToDriverValue(e[r.value.name])}return r})}var y1=Symbol.for("drizzle:IsDrizzleView"),ze=class{static[m]="View";[ie];[y1]=!0;constructor({name:e,schema:r,selectedFields:n,query:i}){this[ie]={name:e,originalName:e,schema:r,selectedFields:n,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new q([this])}};function x1(t){return typeof t=="object"&&t!==null&&y1 in t}Z.prototype.getSQL=function(){return new q([this])};T.prototype.getSQL=function(){return new q([this])};xe.prototype.getSQL=function(){return new q([this])};var Ir=class{constructor(e){this.table=e}static[m]="ColumnAliasProxyHandler";get(e,r){return r==="table"?this.table:e[r]}},zn=class{constructor(e,r){this.alias=e,this.replaceOriginalName=r}static[m]="TableAliasProxyHandler";get(e,r){if(r===T.Symbol.IsAlias)return!0;if(r===T.Symbol.Name)return this.alias;if(this.replaceOriginalName&&r===T.Symbol.OriginalName)return this.alias;if(r===ie)return{...e[ie],name:this.alias,isAlias:!0};if(r===T.Symbol.Columns){let i=e[T.Symbol.Columns];if(!i)return i;let a={};return Object.keys(i).map(s=>{a[s]=new Proxy(i[s],new Ir(new Proxy(e,this)))}),a}let n=e[r];return b(n,Z)?new Proxy(n,new Ir(new Proxy(e,this))):n}},b1=class{constructor(e){this.alias=e}static[m]="RelationTableAliasProxyHandler";get(e,r){return r==="sourceTable"?sa(e.sourceTable,this.alias):e[r]}};function sa(t,e){return new Proxy(t,new zn(e,!1))}function Pt(t,e){return new Proxy(t,new Ir(new Proxy(t.table,new zn(e,!1))))}function yp(t,e){return new q.Aliased(oa(t.sql,e),t.fieldAlias)}function oa(t,e){return v.join(t.queryChunks.map(r=>b(r,Z)?Pt(r,e):b(r,q)?oa(r,e):b(r,q.Aliased)?yp(r,e):r))}var me=class t{static[m]="SelectionProxyHandler";config;constructor(e){this.config={...e}}get(e,r){if(r==="_")return{...e._,selectedFields:new Proxy(e._.selectedFields,this)};if(r===ie)return{...e[ie],selectedFields:new Proxy(e[ie].selectedFields,this)};if(typeof r=="symbol")return e[r];let i=(b(e,xe)?e._.selectedFields:b(e,ze)?e[ie].selectedFields:e)[r];if(b(i,q.Aliased)){if(this.config.sqlAliasedBehavior==="sql"&&!i.isSelectionField)return i.sql;let a=i.clone();return a.isSelectionField=!0,a}if(b(i,q)){if(this.config.sqlBehavior==="sql")return i;throw new Error(`You tried to reference "${r}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return b(i,Z)?this.config.alias?new Proxy(i,new Ir(new Proxy(i.table,new zn(this.config.alias,this.config.replaceOriginalName??!1)))):i:typeof i!="object"||i===null?i:new Proxy(i,new t(this.config))}};function w1(t,e,r){let n={},i=t.reduce((a,{path:s,field:o},u)=>{let c;b(o,Z)?c=o:b(o,q)?c=o.decoder:c=o.sql.decoder;let l=a;for(let[p,d]of s.entries())if(p<s.length-1)d in l||(l[d]={}),l=l[d];else{let f=e[u],h=l[d]=f===null?null:c.mapFromDriverValue(f);if(r&&b(o,Z)&&s.length===2){let y=s[0];y in n?typeof n[y]=="string"&&n[y]!==We(o.table)&&(n[y]=!1):n[y]=h===null?We(o.table):!1}}return a},{});if(r&&Object.keys(n).length>0)for(let[a,s]of Object.entries(n))typeof s=="string"&&!r[s]&&(i[a]=null);return i}function dt(t,e){return Object.entries(t).reduce((r,[n,i])=>{if(typeof n!="string")return r;let a=e?[...e,n]:[n];return b(i,Z)||b(i,q)||b(i,q.Aliased)?r.push({path:a,field:i}):b(i,T)?r.push(...dt(i[T.Symbol.Columns],a)):r.push(...dt(i,a)),r},[])}function ca(t,e){let r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let[i,a]of r.entries())if(a!==n[i])return!1;return!0}function po(t,e){let r=Object.entries(e).filter(([,n])=>n!==void 0).map(([n,i])=>b(i,q)||b(i,Z)?[n,i]:[n,new Xe(i,t[T.Symbol.Columns][n])]);if(r.length===0)throw new Error("No values to set");return Object.fromEntries(r)}function S1(t,e){for(let r of e)for(let n of Object.getOwnPropertyNames(r.prototype))n!=="constructor"&&Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(r.prototype,n)||Object.create(null))}function fo(t){return t[T.Symbol.Columns]}function _1(t){return t[ie].selectedFields}function Lt(t){return b(t,xe)?t._.alias:b(t,ze)?t[ie].name:b(t,q)?void 0:t[T.Symbol.IsAlias]?t[T.Symbol.Name]:t[T.Symbol.BaseName]}function V(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}function k1(t){if(typeof t!="object"||t===null||t.constructor.name!=="Object")return!1;if("logger"in t){let e=typeof t.logger;return!(e!=="boolean"&&(e!=="object"||typeof t.logger.logQuery!="function")&&e!=="undefined")}if("schema"in t){let e=typeof t.logger;return!(e!=="object"&&e!=="undefined")}if("casing"in t){let e=typeof t.logger;return!(e!=="string"&&e!=="undefined")}if("mode"in t)return!(t.mode!=="default"||t.mode!=="planetscale"||t.mode!==void 0);if("connection"in t){let e=typeof t.connection;return!(e!=="string"&&e!=="object"&&e!=="undefined")}if("client"in t){let e=typeof t.client;return!(e!=="object"&&e!=="function"&&e!=="undefined")}return Object.keys(t).length===0}var ua=class extends Ne{constructor(e,r,n,i){super(),this.session=r,this.dialect=n,this.config={table:e,withList:i}}static[m]="PgDelete";config;where(e){return this.config.where=e,this}returning(e=this.config.table[T.Symbol.Columns]){return this.config.returningFields=e,this.config.returning=dt(e),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){let{typings:e,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(e){return ne.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>ne.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken));getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new me({alias:We(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}};function U3(t){return(t.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(r=>r.toLowerCase()).join("_")}function Q3(t){return(t.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((r,n,i)=>{let a=i===0?n.toLowerCase():`${n[0].toUpperCase()}${n.slice(1)}`;return r+a},"")}function V3(t){return t}var mo=class{static[m]="CasingCache";cache={};cachedTables={};convert;constructor(e){this.convert=e==="snake_case"?U3:e==="camelCase"?Q3:V3}getColumnCasing(e){if(!e.keyAsName)return e.name;let r=e.table[T.Symbol.Schema]??"public",n=e.table[T.Symbol.OriginalName],i=`${r}.${n}.${e.name}`;return this.cache[i]||this.cacheTable(e.table),this.cache[i]}cacheTable(e){let r=e[T.Symbol.Schema]??"public",n=e[T.Symbol.OriginalName],i=`${r}.${n}`;if(!this.cachedTables[i]){for(let a of Object.values(e[T.Symbol.Columns])){let s=`${i}.${a.name}`;this.cache[s]=this.convert(a.name)}this.cachedTables[i]=!0}}clearCache(){this.cache={},this.cachedTables={}}};var la=class extends Error{static[m]="DrizzleError";constructor({message:e,cause:r}){super(e),this.name="DrizzleError",this.cause=r}},ho=class extends la{static[m]="TransactionRollbackError";constructor(){super({message:"Rollback"})}};var zt=class extends I{static[m]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){let{name:r,...n}=e;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){let{name:r,...n}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}};var xp=class extends zt{static[m]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new bp(e,this.config)}},bp=class extends E{static[m]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}},wp=class extends zt{static[m]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new Sp(e,this.config)}},Sp=class extends E{static[m]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}};function E1(t,e){let{name:r,config:n}=V(t,e);return n.mode==="number"?new xp(r):new wp(r)}var _p=class extends I{static[m]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new kp(e,this.config)}},kp=class extends E{static[m]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}},Ep=class extends I{static[m]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new Cp(e,this.config)}},Cp=class extends E{static[m]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}};function C1(t,e){let{name:r,config:n}=V(t,e);return n.mode==="number"?new _p(r):new Ep(r)}var Tp=class extends I{static[m]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new Ap(e,this.config)}},Ap=class extends E{static[m]="PgBoolean";getSQLType(){return"boolean"}};function vo(t){return new Tp(t??"")}var Pp=class extends I{static[m]="PgCharBuilder";constructor(e,r){super(e,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new qp(e,this.config)}},qp=class extends E{static[m]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}};function T1(t,e={}){let{name:r,config:n}=V(t,e);return new Pp(r,n)}var Ip=class extends I{static[m]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new Np(e,this.config)}},Np=class extends E{static[m]="PgCidr";getSQLType(){return"cidr"}};function A1(t){return new Ip(t??"")}var Op=class extends I{static[m]="PgCustomColumnBuilder";constructor(e,r,n){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(e){return new jp(e,this.config)}},jp=class extends E{static[m]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,r){super(e,r),this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return typeof this.mapFrom=="function"?this.mapFrom(e):e}mapToDriverValue(e){return typeof this.mapTo=="function"?this.mapTo(e):e}};function P1(t){return(e,r)=>{let{name:n,config:i}=V(e,r);return new Op(n,i,t)}}var qt=class extends I{static[m]="PgDateColumnBaseBuilder";defaultNow(){return this.default(v`now()`)}};var Rp=class extends qt{static[m]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new pa(e,this.config)}},pa=class extends E{static[m]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}},Dp=class extends qt{static[m]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new da(e,this.config)}},da=class extends E{static[m]="PgDateString";getSQLType(){return"date"}};function q1(t,e){let{name:r,config:n}=V(t,e);return n?.mode==="date"?new Rp(r):new Dp(r)}var Mp=class extends I{static[m]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new Bp(e,this.config)}},Bp=class extends E{static[m]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}};function I1(t){return new Mp(t??"")}var Fp=class extends I{static[m]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new Lp(e,this.config)}},Lp=class extends E{static[m]="PgInet";getSQLType(){return"inet"}};function N1(t){return new Fp(t??"")}var zp=class extends zt{static[m]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new $p(e,this.config)}},$p=class extends E{static[m]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}};function Nr(t){return new zp(t??"")}var Up=class extends I{static[m]="PgIntervalBuilder";constructor(e,r){super(e,"string","PgInterval"),this.config.intervalConfig=r}build(e){return new Qp(e,this.config)}},Qp=class extends E{static[m]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){let e=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${e}${r}`}};function O1(t,e={}){let{name:r,config:n}=V(t,e);return new Up(r,n)}var Vp=class extends I{static[m]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new fa(e,this.config)}},fa=class extends E{static[m]="PgJson";constructor(e,r){super(e,r)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}};function j1(t){return new Vp(t??"")}var Hp=class extends I{static[m]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new ma(e,this.config)}},ma=class extends E{static[m]="PgJsonb";constructor(e,r){super(e,r)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}};function $n(t){return new Hp(t??"")}var Gp=class extends I{static[m]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new Kp(e,this.config)}},Kp=class extends E{static[m]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){let[r,n,i]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(i)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}},Zp=class extends I{static[m]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new Wp(e,this.config)}},Wp=class extends E{static[m]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){let[r,n,i]=e.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(i)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}};function R1(t,e){let{name:r,config:n}=V(t,e);return!n?.mode||n.mode==="tuple"?new Gp(r):new Zp(r)}var Xp=class extends I{static[m]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new Jp(e,this.config)}},Jp=class extends E{static[m]="PgMacaddr";getSQLType(){return"macaddr"}};function D1(t){return new Xp(t??"")}var Yp=class extends I{static[m]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new ed(e,this.config)}},ed=class extends E{static[m]="PgMacaddr8";getSQLType(){return"macaddr8"}};function M1(t){return new Yp(t??"")}var td=class extends I{static[m]="PgNumericBuilder";constructor(e,r,n){super(e,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(e){return new ha(e,this.config)}},ha=class extends E{static[m]="PgNumeric";precision;scale;constructor(e,r){super(e,r),this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}};function B1(t,e){let{name:r,config:n}=V(t,e);return new td(r,n?.precision,n?.scale)}var rd=class extends I{static[m]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new nd(e,this.config)}},nd=class extends E{static[m]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){let[r,n]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}},id=class extends I{static[m]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new ad(e,this.config)}},ad=class extends E{static[m]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){let[r,n]=e.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}};function F1(t,e){let{name:r,config:n}=V(t,e);return!n?.mode||n.mode==="tuple"?new rd(r):new id(r)}function H3(t){let e=[];for(let r=0;r<t.length;r+=2)e.push(Number.parseInt(t.slice(r,r+2),16));return new Uint8Array(e)}function L1(t,e){let r=new ArrayBuffer(8),n=new DataView(r);for(let i=0;i<8;i++)n.setUint8(i,t[e+i]);return n.getFloat64(0,!0)}function sd(t){let e=H3(t),r=0,n=e[r];r+=1;let i=new DataView(e.buffer),a=i.getUint32(r,n===1);r+=4;let s;if(a&536870912&&(s=i.getUint32(r,n===1),r+=4),(a&65535)===1){let o=L1(e,r);r+=8;let u=L1(e,r);return r+=8,[o,u]}throw new Error("Unsupported geometry type")}var od=class extends I{static[m]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new cd(e,this.config)}},cd=class extends E{static[m]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return sd(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}},ud=class extends I{static[m]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new ld(e,this.config)}},ld=class extends E{static[m]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){let r=sd(e);return{x:r[0],y:r[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}};function z1(t,e){let{name:r,config:n}=V(t,e);return!n?.mode||n.mode==="tuple"?new od(r):new ud(r)}var pd=class extends I{static[m]="PgRealBuilder";constructor(e,r){super(e,"number","PgReal"),this.config.length=r}build(e){return new dd(e,this.config)}},dd=class extends E{static[m]="PgReal";constructor(e,r){super(e,r)}getSQLType(){return"real"}mapFromDriverValue=e=>typeof e=="string"?Number.parseFloat(e):e};function $1(t){return new pd(t??"")}var fd=class extends I{static[m]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new md(e,this.config)}},md=class extends E{static[m]="PgSerial";getSQLType(){return"serial"}};function Un(t){return new fd(t??"")}var hd=class extends zt{static[m]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new vd(e,this.config)}},vd=class extends E{static[m]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>typeof e=="string"?Number(e):e};function U1(t){return new hd(t??"")}var gd=class extends I{static[m]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new yd(e,this.c